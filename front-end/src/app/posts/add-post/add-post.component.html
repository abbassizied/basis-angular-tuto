<div class="column">
  <h1 class="title">Add New Post</h1>
  <h2 class="subtitle">Template-driven forms</h2>
  <hr />
  <button class="button is-black" (click)="goBack()">Back</button>
  <hr />

  <form name="form" #f="ngForm">
    <div class="field">
      <label class="label">Title</label>
      <div class="control">
        <input
          class="input"
          type="text"
          placeholder="Your Title"
          required
          minlength="4"
          id="title"
          name="title"
          [(ngModel)]="form.title"
          #title="ngModel"
          [ngClass]="{
            'is-danger': title.invalid && (title.dirty || title.touched),
            'is-primary': title.valid && (title.dirty || title.touched)
          }"
        />
      </div>
      <div
        *ngIf="title.invalid && (title.dirty || title.touched)"
        class="help is-danger"
      >
        <div *ngIf="title.errors?.['required']">title is required</div>
        <div *ngIf="title.errors?.['minlength']">
          Name must be at least 4 characters long.
        </div>
      </div>
    </div>

    <div class="field">
      <label class="label">Body</label>
      <div class="control">
        <input
          class="textarea"
          type="textarea"
          placeholder="Your Post"
          required
          name="body"
          #body="ngModel"
          [(ngModel)]="form.body"
          [ngClass]="{
            'is-danger': body.invalid && (body.dirty || body.touched),
            'is-primary': body.valid && (body.dirty || body.touched)
          }"
        />
      </div>
      <div
        *ngIf="body.invalid && (body.dirty || body.touched)"
        class="help is-danger"
      >
        <div *ngIf="body.errors?.['required']">body is required</div>
      </div>
    </div>

    <div class="field is-grouped">
      <div class="control">
        <button
          type="button"
          class="button is-primary is-outlined"
          (click)="addPost()"
          [disabled]="!form.valid"
        >
          Save
        </button>
      </div>
      <div class="control">
        <button class="button is-link is-light is-outlined" (click)="goBack()">
          Cancel
        </button>
      </div>
    </div>
  </form>
</div>
